<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tfl_Tube_Json</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">tfl-tube-0.1.0.0: Short description of your package</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Tfl_Tube_Json</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:firstlevel">firstlevel</a> :: (t -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a>]) -&gt; [t] -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a>]</li><li class="src short"><a href="#v:secondlevel">secondlevel</a> :: (t -&gt; a) -&gt; [t] -&gt; [a]</li><li class="src short"><a href="#v:firstLevelNum">firstLevelNum</a> :: (t -&gt; a) -&gt; [t] -&gt; [a]</li><li class="src short"><a href="#v:convToMin">convToMin</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a</li><li class="src short"><a href="#v:listConvert">listConvert</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:statusConversion">statusConversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Lines">Lines</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:napId_Conversion">napId_Conversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Stoppoint">Stoppoint</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:arrivals_Conversion">arrivals_Conversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Arrivals">Arrivals</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:getJSON_Status">getJSON_Status</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:getJSON_NaptanId">getJSON_NaptanId</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:retrieve_status">retrieve_status</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> [<a href="Tfl_Tube_Data_Types.html#t:Lines">Lines</a>])</li><li class="src short"><a href="#v:retrieve_NaptanId">retrieve_NaptanId</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> [<a href="Tfl_Tube_Data_Types.html#t:Stoppoint">Stoppoint</a>])</li><li class="src short"><a href="#v:retrieveLineStatus">retrieveLineStatus</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:retrieveNaptanId_with_Arrivals">retrieveNaptanId_with_Arrivals</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:retrieveArrivals">retrieveArrivals</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:firstlevel" class="def">firstlevel</a> :: (t -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a>]) -&gt; [t] -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a>] <a href="#v:firstlevel" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:firstlevel">firstlevel</a></code> function take the parameter <code>fstr</code> and a list of Json strings and gets the strings corespoding to the parameter <code>fstr</code>. This is used for the main Json text.</p></div></div><div class="top"><p class="src"><a id="v:secondlevel" class="def">secondlevel</a> :: (t -&gt; a) -&gt; [t] -&gt; [a] <a href="#v:secondlevel" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:secondlevel">secondlevel</a></code> function take the parameter <code>sstr</code> and a list of Json strings and gets the strings corespoding to the parameter <code>sstr</code>. this is used for Json text that is nested in the main text</p></div></div><div class="top"><p class="src"><a id="v:firstLevelNum" class="def">firstLevelNum</a> :: (t -&gt; a) -&gt; [t] -&gt; [a] <a href="#v:firstLevelNum" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:firstLevelNum">firstLevelNum</a></code> function take the parameter <code>nstr</code> and a list of Json intergers and gets the integers corespoding to the parameter <code>nstr</code>. This is used for the main Json integer types.</p></div></div><div class="top"><p class="src"><a id="v:convToMin" class="def">convToMin</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a <a href="#v:convToMin" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:convToMin">convToMin</a></code> function converts a given <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Int.html#t:Int">Int</a></code> value to the lowest minute value</p></div></div><div class="top"><p class="src"><a id="v:listConvert" class="def">listConvert</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a>] <a href="#v:listConvert" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:listConvert">listConvert</a></code> function converts a given String <code>str</code> and converts it to a list of String arrays</p></div></div><div class="top"><p class="src"><a id="v:statusConversion" class="def">statusConversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Lines">Lines</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:statusConversion" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:statusConversion">statusConversion</a></code> function zips given Strings for use in <code><a href="Tfl_Tube_DB.html#v:storeStatus">storeStatus</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:napId_Conversion" class="def">napId_Conversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Stoppoint">Stoppoint</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:napId_Conversion" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:napId_Conversion">napId_Conversion</a></code> function zips given Strings for use in <code><a href="Tfl_Tube_DB.html#v:storeNaptan">storeNaptan</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:arrivals_Conversion" class="def">arrivals_Conversion</a> :: [<a href="Tfl_Tube_Data_Types.html#t:Arrivals">Arrivals</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:arrivals_Conversion" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:arrivals_Conversion">arrivals_Conversion</a></code> function zips given Strings for use in <code><a href="Tfl_Tube_DB.html#v:storeArrivals">storeArrivals</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:getJSON_Status" class="def">getJSON_Status</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="#v:getJSON_Status" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getJSON_NaptanId" class="def">getJSON_NaptanId</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="#v:getJSON_NaptanId" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:getJSON_NaptanId">getJSON_NaptanId</a></code> get Json data from the given naptanId retrival Url.</p></div></div><div class="top"><p class="src"><a id="v:retrieve_status" class="def">retrieve_status</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> [<a href="Tfl_Tube_Data_Types.html#t:Lines">Lines</a>]) <a href="#v:retrieve_status" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:retrieve_status">retrieve_status</a></code> parses Json data from the given tube status Url.</p></div></div><div class="top"><p class="src"><a id="v:retrieve_NaptanId" class="def">retrieve_NaptanId</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> [<a href="Tfl_Tube_Data_Types.html#t:Stoppoint">Stoppoint</a>]) <a href="#v:retrieve_NaptanId" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:retrieve_NaptanId">retrieve_NaptanId</a></code> parses Json data from the given naptanId retrival Url.</p></div></div><div class="top"><p class="src"><a id="v:retrieveLineStatus" class="def">retrieveLineStatus</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> () <a href="#v:retrieveLineStatus" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:retrieveLineStatus">retrieveLineStatus</a></code> function retrieves the line status and outputs the parsed data.</p></div></div><div class="top"><p class="src"><a id="v:retrieveNaptanId_with_Arrivals" class="def">retrieveNaptanId_with_Arrivals</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> () <a href="#v:retrieveNaptanId_with_Arrivals" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:retrieveLineStatus">retrieveLineStatus</a></code> function retrieves all naptan ids then get the station name from the user using <code>request</code> inputs it to <code><a href="Tfl_Tube_Json.html#v:retrieveArrivals">retrieveArrivals</a></code> to get arrival data for user specified station.</p></div></div><div class="top"><p class="src"><a id="v:retrieveArrivals" class="def">retrieveArrivals</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/8.2.1-x86_64/usr/share/doc/ghc-8.2.1/html/libraries/base-4.10.0.0/System-IO.html#t:IO">IO</a> () <a href="#v:retrieveArrivals" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Tfl_Tube_Json.html#v:retrieveArrivals">retrieveArrivals</a></code> function gets that arrival data for a specified station <code>nap_Id</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>